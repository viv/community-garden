import{j as e,m as c,C as l,B as f,V as o,k as v}from"./index-bSR5nYPL.js";import{e as j,r as n,d as R,L as w}from"./router-vendor-BDXIhWeD.js";import{u as E}from"./useForm-BF5RBW5i.js";import{I as p}from"./Input-BEk_bpgB.js";import{F as V}from"./CheckCircleIcon-CJiEal2j.js";import{F as N,a as g}from"./EyeIcon-BD5H_WVP.js";import{o as A,s as x}from"./form-vendor-XO80Fde1.js";import"./react-vendor-BuiY3lYm.js";import"./query-vendor-chz4yrQt.js";const D=A({password:x().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:x()}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),$=()=>{const[s]=j(),[r,b]=n.useState(!1),[a,h]=n.useState(!1),[y,P]=n.useState(!1),t=s.get("token"),{handleSubmit:k,isSubmitting:i,getFieldProps:m,getFieldError:d}=E({initialValues:{password:"",confirmPassword:""},validationSchema:D,onSubmit:async u=>{if(!t){o.error("Invalid reset token");return}try{await v.resetPassword({token:t,password:u.password,confirmPassword:u.confirmPassword}),P(!0),o.success("Password reset successfully!")}catch{o.error("Failed to reset password. The link may have expired.")}}});return t?y?e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxDEV(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxDEV(l,{className:"p-8 text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsxDEV(V,{className:"w-8 h-8 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:84,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:83,columnNumber:13},void 0),e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Password reset successful"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:87,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Your password has been successfully reset. You can now sign in with your new password."},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV(w,{to:"/login",children:e.jsxDEV(f,{fullWidth:!0,children:"Continue to sign in"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:96,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:82,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:76,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:75,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxDEV(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center text-white text-2xl mb-4",children:"ðŸŒ±"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:115,columnNumber:11},void 0),e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Reset password"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:118,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Enter your new password below"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:114,columnNumber:9},void 0),e.jsxDEV(l,{className:"p-8",children:[e.jsxDEV("form",{onSubmit:k,className:"space-y-6",children:[e.jsxDEV(p,{...m("password"),type:r?"text":"password",label:"New password",placeholder:"Enter your new password",error:d("password"),helperText:"Must be at least 8 characters with uppercase, lowercase, and number",autoComplete:"new-password",rightIcon:e.jsxDEV("button",{type:"button",onClick:()=>b(!r),className:"p-1 text-gray-400 hover:text-gray-600 focus:outline-none",children:r?e.jsxDEV(N,{className:"w-5 h-5"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:143,columnNumber:21},void 0):e.jsxDEV(g,{className:"w-5 h-5"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:145,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:137,columnNumber:17},void 0),required:!0},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:128,columnNumber:13},void 0),e.jsxDEV(p,{...m("confirmPassword"),type:a?"text":"password",label:"Confirm new password",placeholder:"Confirm your new password",error:d("confirmPassword"),autoComplete:"new-password",rightIcon:e.jsxDEV("button",{type:"button",onClick:()=>h(!a),className:"p-1 text-gray-400 hover:text-gray-600 focus:outline-none",children:a?e.jsxDEV(N,{className:"w-5 h-5"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:166,columnNumber:21},void 0):e.jsxDEV(g,{className:"w-5 h-5"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:168,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:160,columnNumber:17},void 0),required:!0},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:152,columnNumber:13},void 0),e.jsxDEV(f,{type:"submit",fullWidth:!0,loading:i,disabled:i,children:"Reset password"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:175,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:127,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-6 text-center",children:e.jsxDEV(w,{to:"/login",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:"Back to sign in"},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:186,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:185,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:126,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:108,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:107,columnNumber:5},void 0):e.jsxDEV(R,{to:"/forgot-password",replace:!0},void 0,!1,{fileName:"/workspaces/community-garden/src/pages/Auth/ResetPassword.tsx",lineNumber:70,columnNumber:12},void 0)};export{$ as default};
//# sourceMappingURL=ResetPassword-SviGku8h.js.map
